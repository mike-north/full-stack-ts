(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{"+92Z":function(e,t,a){"use strict";a.r(t);var n=a("ezF+"),r=a("6rlp"),o=a("ERkP"),c=a.n(o),s=a("vjRr"),i=a("/Ikv"),d=a("VPAj"),l=a("0KEI"),m=a("RoyM"),p=a("aX4+"),u=a("caTy"),b=a("cFuS"),E=a("zh9S"),g=a("Rp9C"),h=(a("MvUL"),a("aTAq")),I=a("b5s6"),T="metadata",y="trend",C=a("MWbm"),w=a("hxu0"),M=a("PbQQ"),f=a("htQn"),k=a("pjBI"),_=a("t62R"),A=a("tg+X"),v=a("e5HP"),x=a("rHpw");const O=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,F=(e,t=0)=>e.replace("#","").charAt(t).match(O)?"rtl":"ltr";class R extends c.a.Component{render(){const{associatedTweetIds:e,attachment:t,description:a,domainContext:n,groupedTrends:r,isInSidebar:o,link:s,name:i,onClick:d,rank:l,trendFeedbackMenu:m}=this.props,p=F(i),u=s&&("string"==typeof s?{pathname:s}:s),b=e&&e.length?e[0]:void 0;return c.a.createElement(M.a.Consumer,null,(e=>c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{link:u?e.withAnchorless(u):void 0,onPress:d,style:D.rootLink,testID:y,withDarkerInteractiveBackground:o},c.a.createElement(C.a,{style:D.content},c.a.createElement(k.a,null,l?c.a.createElement(_.b,{accessibilityHidden:!0,color:"gray700",size:"subtext2"},l):null,c.a.createElement(_.b,{color:"gray700",size:"subtext2"},n||null)),c.a.createElement(_.b,{dir:p,style:D.name,weight:"bold",withHashflags:!0},i),a?c.a.createElement(_.b,{color:"gray700",style:D.description},a):null,b?c.a.createElement(I.a,{isCondensed:!0,style:D.withMarginTop,tweetId:b}):null,t?c.a.createElement(C.a,{style:D.attachment},t):null,c.a.createElement(A.a,{groupedTrends:r}),this._renderMetadata(),c.a.createElement(C.a,{style:D.trendFeedbackMenuContainer},m))))))}_renderMetadata(){const{metaDescription:e,promotedContent:t}=this.props;let a;t?a=c.a.createElement(v.a,{label:e,promotedContent:t}):e&&(a=e);const n=Object(h.a)(a)&&a.length?F(a,a.length-1):void 0;return a?c.a.createElement(_.b,{color:"gray700",dir:n,size:"subtext2",style:D.withMarginTop,testID:T},a):null}}var S=Object(w.a)(R);const D=x.a.create((e=>({rootLink:{display:"flex",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},trendFeedbackMenuContainer:{position:"absolute",top:1,right:0},attachment:{alignSelf:"stretch",paddingBottom:e.spaces.space4,paddingTop:e.spaces.space12},description:{paddingTop:e.spaces.space2},content:{flexGrow:1,position:"relative"},name:{paddingTop:e.spaces.space2},withMarginTop:{marginTop:e.spaces.space4}}))),{CardNames:L}=i.a,j=e=>e&&e.promotedTrendId?{disclosure_type:e.disclosureType,impression_id:e.promotedTrendId}:void 0,H=Object.freeze({[L.LIVE_EVENT]:!0,[L.MOMENT]:!0,[L.SUMMARY]:!0,[L.SUMMARY_LARGE_IMAGE]:!0,[L.AUDIOSPACE]:!0}),N=(e,t)=>{if(e&&e.length>0){const a=e[0];if(!t&&a.name!==L.LIVE_EVENT&&a.name!==L.AUDIOSPACE)return;const n=a.name===L.SUMMARY_LARGE_IMAGE?L.SUMMARY:a.name;if(!H[n])return;return c.a.createElement(p.a,{card:{url:a.url,name:n,binding_values:a.binding_values,users:a.users},cardContext:{locationKey:"trend",tweetUserId:"TREND_CARD_NO_TWEET_USER_ID"},cardState:"secondary"})}},P=({entry:e})=>({cards:s.a.createManyHydratedSelector(e.content.associatedCardUrls||[])});t.default=({errorContext:e,withThirdPartyCards:t})=>n.g({isFocusable:Object(d.a)(!0),component:S,bindActions:({module:t})=>({logTrend:r.c,scribe:E.c,createLocalApiErrorHandler:Object(l.createLocalApiErrorHandlerWithContextFactory)(e)}),selectData:P,createProps:({actions:{createLocalApiErrorHandler:e,logTrend:a,scribe:n},data:{cards:r},entry:o,feedbackItems:s,module:{selectFeedbackActions:i},scribeData:d,scribeNamespace:l})=>{const{content:p}=o,{promotedMetadata:E}=p,g=p.groupedTrends?p.groupedTrends.map((e=>({name:e.name,link:Object(u.b)(e.url)}))):[];return{associatedTweetIds:p.associatedTweetIds,attachment:N(r,t),description:p.description,domainContext:p.trendMetadata.domainContext,groupedTrends:g,link:Object(u.b)(p.url),metaDescription:p.trendMetadata&&p.trendMetadata.metaDescription,name:p.name,onClick:()=>{n({...l,action:"search"},d),E&&E.promotedTrendId&&a({promoted_trend_id:E.promotedTrendId,impression_id:E.impressionString,event:b.d.TREND_CLICK}).catch(e())},promotedContent:j(E),rank:p.rank,trendFeedbackMenu:c.a.createElement(m.a,{feedbackItems:s})}},getScribeDataItem:e=>{const{name:t,promotedMetadata:a}=e.content,{clientEventInfo:n}=e.itemMetadata;return g.a.getTrendItem(t,a,n)},onImpression:({actions:{createLocalApiErrorHandler:e,logTrend:t,scribe:a},entry:n,scribeData:r,scribeNamespace:o})=>{const{promotedMetadata:c}=n.content;a({...o,action:"impression"},r),c&&c.promotedTrendId&&t({promoted_trend_id:c.promotedTrendId,impression_id:c.impressionString,event:b.d.TREND_VIEW}).catch(e())}})},RoyM:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),o=(a("kYxP"),a("zb92"));var c=Object(o.a)({loader:()=>a.e(174).then(a.bind(null,"ACNv"))}),s=a("4bW+"),i=a("IG7M"),d=a("rHpw"),l=a("Irs7");const m=d.a.create((e=>({curationControl:{marginStart:e.spaces.space20}})));t.a=Object(l.a)((e=>{const{analytics:t,feedbackItems:a,isDisplayedOnMedia:n}=e;if(a&&a.length>0){const e=e=>r.a.createElement(c,{actionItems:a,onClose:e}),o=()=>t.scribe({element:"caret",action:"click"});return r.a.createElement(i.a,{onClick:o,renderActionMenu:e,style:m.curationControl,testID:s.a.caret,withDarkBackground:n})}return null}))},b5s6:function(e,t,a){"use strict";var n=a("97Jx"),r=a.n(n),o=a("ERkP"),c=a.n(o),s=a("v6aA"),i=a("XOJV"),d=a("eSoz"),l=a("rxPX"),m=a("0KEI");const p=(e,t)=>t.tweetId,u=(e,t)=>{const a=t.tweetId,n=a&&i.a.select(e,a);return n?Object(d.g)(e,n):void 0};var b=Object(l.a)().propsFromState((()=>({community:u,hydratedTweet:i.a.createHydratedTweetSelector(p)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(m.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:d.c.fetchOneIfNeeded}))),E=a("YeIG"),g=a("uCxL"),h=a("x5Pi");const I=b((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:a,hydratedTweet:n,tweetId:o,...i})=>{const{featureSwitches:d,loggedInUserId:l}=c.a.useContext(s.a),m=null==n?void 0:n.community_id_str;c.a.useEffect((()=>{m&&Object(E.a)(e)&&a(m).catch(t())}),[e,m,t,a]);const p=d.isTrue("responsive_web_alt_text_badge_enabled"),u=n&&Object(h.f)(n,l,e),b=u&&Object(h.e)(u),I=d.isTrue("responsive_web_reactions_enabled");return c.a.createElement(g.a,r()({},i,{loggedInUserId:l,shouldShowAltLabelAlways:p,socialContextProps:b,tweet:n,withReactions:I}))}));t.a=I},hxu0:function(e,t,a){"use strict";var n=a("97Jx"),r=a.n(n),o=a("ERkP"),c=a.n(o),s=a("vqbU");t.a=e=>t=>c.a.createElement(s.a.Consumer,null,(a=>c.a.createElement(e,r()({},t,{isInSidebar:a}))))},"tg+X":function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),o=a("t62R"),c=a("3XMw"),s=a.n(c),i=a("rHpw");const d=({groupedTrends:e,linkColor:t,textColor:a})=>{const n=l(e,t);return n?r.a.createElement(o.b,{color:a,numberOfLines:2,size:"subtext2",style:b.root},n):null};d.defaultProps={textColor:"gray700"};const l=(e,t)=>e.length>=2?p(e,t):1===e.length?m(e[0],t):null,m=(e,t)=>r.a.createElement(s.a.I18NFormatMessage,{$i18n:"fe7c309b"},u(e,t,!0)),p=(e,t)=>r.a.createElement(s.a.I18NFormatMessage,{$i18n:"ea753bf4"},u(e[0],t,!0),u(e[1],t)),u=(e,t,a=!1)=>r.a.createElement(o.b,{color:t,link:e.link,size:"subtext2",style:a&&b.paddingLeft,withHashflags:!0},e.name),b=i.a.create((e=>({root:{marginTop:e.spaces.space4},paddingLeft:{paddingLeft:e.spaces.space2}})));t.a=d}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.TrendHandler.6fac7e45.js.map